import{o as n,a as u,d as f,m as A,r as W,l as J,c as g,p as w,t as T,n as j,F as Y,j as E,b as O,w as Z,f as K,k as V,q as Q,i as B,s as X,x as ee,e as F,y as te,z as ae,A as re}from"./index-C6fTDUxP.js";function M(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function D(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function oe(e,t){const a=M(e);return isNaN(t)?D(e,NaN):(t&&a.setDate(a.getDate()+t),a)}function ne(e,t){const a=M(e);if(isNaN(t))return D(e,NaN);if(!t)return a;const r=a.getDate(),o=D(e,a.getTime());o.setMonth(a.getMonth()+t+1,0);const s=o.getDate();return r>=s?o:(a.setFullYear(o.getFullYear(),o.getMonth(),r),a)}function k(e,t){const{years:a=0,months:r=0,weeks:o=0,days:s=0,hours:b=0,minutes:y=0,seconds:i=0}=t,c=M(e),h=r||a?ne(c,r+a*12):c,l=s||o?oe(h,s+o*7):h,S=y+b*60,d=(i+S*60)*1e3;return D(e,l.getTime()+d)}const se="/nothingToDoHere.gif";var x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function le(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ie=typeof x=="object"&&x&&x.Object===Object&&x,ce=ie,de=ce,ue=typeof self=="object"&&self&&self.Object===Object&&self,fe=de||ue||Function("return this")(),ye=fe,ve=ye,ge=ve.Symbol,N=ge;function be(e,t){for(var a=-1,r=e==null?0:e.length,o=Array(r);++a<r;)o[a]=t(e[a],a,e);return o}var he=be,me=Array.isArray,pe=me,P=N,H=Object.prototype,_e=H.hasOwnProperty,we=H.toString,_=P?P.toStringTag:void 0;function Se(e){var t=_e.call(e,_),a=e[_];try{e[_]=void 0;var r=!0}catch{}var o=we.call(e);return r&&(t?e[_]=a:delete e[_]),o}var $e=Se,Te=Object.prototype,xe=Te.toString;function je(e){return xe.call(e)}var De=je,I=N,ke=$e,Oe=De,Me="[object Null]",Ne="[object Undefined]",L=I?I.toStringTag:void 0;function Ce(e){return e==null?e===void 0?Ne:Me:L&&L in Object(e)?ke(e):Oe(e)}var Ae=Ce;function Ve(e){return e!=null&&typeof e=="object"}var Be=Ve,Fe=Ae,Pe=Be,Ie="[object Symbol]";function Le(e){return typeof e=="symbol"||Pe(e)&&Fe(e)==Ie}var Re=Le,R=N,qe=he,ze=pe,Ge=Re,Ye=1/0,q=R?R.prototype:void 0,z=q?q.toString:void 0;function U(e){if(typeof e=="string")return e;if(ze(e))return qe(e,U)+"";if(Ge(e))return z?z.call(e):"";var t=e+"";return t=="0"&&1/e==-Ye?"-0":t}var Ee=U,Ze=Ee;function He(e){return e==null?"":Ze(e)}var Ue=He,We=Ue,Je=0;function Ke(e){var t=++Je;return We(e)+t}var Qe=Ke;const Xe=le(Qe),et={class:"relative"},tt=["id","checked","disabled"],at=["for"],rt={key:0,class:"size-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ot=f("path",{d:"M21 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm-5.926 7.338-3.788 3.885-1.36-1.402a1.11 1.11 0 0 0-1.595 0 1.172 1.172 0 0 0 0 1.632l2.157 2.207a1.11 1.11 0 0 0 1.596 0l4.585-4.69a1.172 1.172 0 0 0 0-1.632 1.11 1.11 0 0 0-1.595 0Z"},null,-1),nt=[ot],st={key:1,class:"size-6 shrink-0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},lt=f("path",{d:"M21 2a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm-1 2H4v16h16V4Z"},null,-1),it=[lt],ct={__name:"CheckBox",props:{modelValue:Boolean,disabled:Boolean},emits:["update:model-value"],setup(e){const t=Xe();return(a,r)=>(n(),u("div",et,[f("input",{class:"peer pointer-events-none absolute p-0 opacity-0",type:"checkbox",id:A(t),checked:e.modelValue,disabled:e.disabled,onChange:r[0]||(r[0]=o=>a.$emit("update:model-value",!e.modelValue))},null,40,tt),f("label",{for:A(t),class:"peer-checked:line-through fill-primary-500 peer-disabled:fill-gray-300 peer-disabled:text-gray-500 flex items-center gap-x-2 peer-focus-visible:ring-4 ring-primary/40"},[e.modelValue?(n(),u("svg",rt,nt)):(n(),u("svg",st,it)),W(a.$slots,"default")],8,at)]))}},dt={class:"flex flex-col gap-y-4 p-4"},ut={class:"text-center text-2xl font-semibold"},ft={class:"text-center text-sm"},yt={key:0,src:se,class:"w-full h-auto"},vt={key:1,class:"text-gray-500 text-xs"},gt={__name:"DayPill",props:{day:{type:Object,required:!0}},emits:["celebrate"],setup(e,{emit:t}){const a=e,r=t,{getDailyRoutines:o,markRoutineAsDone:s}=J(),b=g(()=>o(a.day.value)),y=g(()=>{const c=w();return a.day.value>c});function i(c){s({date:a.day.value,name:c}),b.value.every(({achieved:h})=>h)&&r("celebrate")}return(c,h)=>(n(),u("div",dt,[f("div",{class:j(y.value?"text-gray-500":"text-black")},[f("p",ut,T(e.day.dayText),1),f("p",ft,T(e.day.monthText),1)],2),(n(!0),u(Y,null,E(b.value,l=>(n(),O(ct,{key:`${l.name}-${e.day.value}`,"model-value":l==null?void 0:l.achieved,disabled:y.value,"data-routine":JSON.stringify(l),class:"mx-10 lg:mx-0","onUpdate:modelValue":S=>i(l.name)},{default:Z(()=>[K(T(l.name),1)]),_:2},1032,["model-value","disabled","data-routine","onUpdate:modelValue"]))),128)),b.value.length===0?(n(),u("img",yt)):V("",!0),y.value?(n(),u("div",vt,T(c.$t("youCantMarkTheFuture")),1)):V("",!0)]))}},bt=f("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2Zm-1.32 5.001L9.5 8.181l3.84 3.82-3.84 3.84 1.18 1.16 5-5-5-5Z"},null,-1),ht=[bt],G={__name:"ArrowLink",props:{arrowColorClasses:{type:String,default:"fill-gray-500/50 hover:opacity-70"},direction:{type:String,default:"right",validator:e=>["left","right"].includes(e)},to:{type:[String,Object],required:!0}},setup(e){const t=e,a=g(()=>{if(t.direction==="right")return"";if(t.direction==="left")return"rotate-180"});return(r,o)=>{const s=Q("router-link");return n(),O(s,{class:"rounded-full border-0 bg-transparent p-0 transition-colors duration-300 size-11",to:e.to},{default:Z(()=>[(n(),u("svg",{class:j([[e.arrowColorClasses,a.value],"size-10"]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},ht,2))]),_:1},8,["to"])}}},mt=["disabled"],pt={class:"absolute inset-x-0 h-svh flex items-center justify-between"},wt={__name:"DayView",props:{date:{type:String,required:!0}},setup(e){const t=e,a=B(null),r=B(!1),{isDesktop:o,isTablet:s,isMobile:b}=X(),{locale:y}=ee(),i=g(()=>o.value?5:s.value?3:1),c=g(()=>{switch(i.value){case 5:return"grid-cols-5";case 3:return"grid-cols-3";case 1:return"grid-cols-1";default:throw new Error(`Unexpected number of columns ${i.value}`)}}),h=g(()=>{const d=new Date(t.date),v=k(d,{days:-i.value,hours:12});return`/day/${w(v)}`}),l=g(()=>{const d=new Date(t.date),v=k(d,{days:i.value,hours:12});return`/day/${w(v)}`}),S=g(()=>{const d=new Date(t.date);return Array.from({length:i.value},(m,p)=>-Math.floor(i.value/2)+p).map(m=>{const p=k(d,{days:m,hours:12}),$=w(p);return{dayText:te(p,y.value),monthText:ae(p,y.value),value:$,class:{"bg-primary-300":$===w(),"bg-primary-200":$===t.date,"bg-primary-100":$!==t.date,"w-[calc(100%/7)]":o.value,"w-1/3":s.value,"w-full":b.value}}})});function C(){r.value||(r.value=!0,re(),a.value.play())}return(d,v)=>(n(),u("div",{class:j(["relative grid h-full min-h-[calc(100svh-64px)]",c.value])},[f("audio",{ref_key:"audioElement",ref:a,src:"/cheer.mp3",disabled:r.value,onEnded:v[0]||(v[0]=m=>r.value=!1)},null,40,mt),f("div",pt,[F(G,{to:h.value,direction:"left","aria-label":d.$t("previousPage")},null,8,["to","aria-label"]),F(G,{to:l.value,direction:"right","aria-label":d.$t("nextPage")},null,8,["to","aria-label"])]),(n(!0),u(Y,null,E(S.value,m=>(n(),O(gt,{key:m.value,day:m,class:j(["w-full h-full",m.class]),onCelebrate:C},null,8,["day","class"]))),128))],2))}};export{wt as default};
